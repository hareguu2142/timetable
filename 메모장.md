<app.js>

const express = require('express');
const path = require('path');
const dotenv = require('dotenv');
const app = express();
const { MongoClient } = require('mongodb');
const port = process.env.PORT || 3000;
dotenv.config();
const uri = process.env.MONGODB_URI;
const client = new MongoClient(uri);

app.use(express.json());
// 루트 경로에 대한 라우트 핸들러
app.get('/', (req, res) => {
  res.sendFile(path.join(__dirname, 'public', 'index.html'));
});

// 정적 파일 제공을 위한 미들웨어 설정
app.use(express.static(path.join(__dirname, 'public')));

// src 폴더의 JavaScript 파일을 /js 경로로 제공
app.use('/js', express.static(path.join(__dirname, 'src')));

// 서버 시작
app.listen(port, () => {
  console.log(`Server is running at http://localhost:${port}`);
});

//

<요구사항>

저는 시간표를 DB로 불러와서 특정 자료를 화면에 뿌려주고 싶습니다.

table.html에서 특정 자료를 화면에 뿌려주고 싶습니다.

왼쪽에는 '1교시' ~ '7교시'(교시는 Period라는 뜻입니다.) 라는 버튼이 있고 버튼을 누르면 오른쪽에 그 때 수업을 진행중인 교사를 나열합니다.

나열된 교사를 누르면 그 교사의 현재 Class Location, Subject Name을 보여줍니다.

table.js에서 특정 자료를 화면에 뿌려주는 코드를 작성합니다.

{
  "_id": { "$oid": "66d830750806e79bfe9943eb" },
  "Day": "월",
  "Period": { "$numberInt": "1" },
  "Class Location": "수업없음",
  "Teacher_Name": "김태진",
  "Subject Name": "수업없음"
}

위와 같은 형태의 여러 json을 호출해야 합니다. 호출할때는 /timetable${현재시간} 으로 호출합니다.

router에서는 현재시간의 day를 받아 filter를 걸어줍니다.

n교시(period)를 누르면 그 교시의 수업을 진행중인 교사를 반환하여 html에 나열합니다.

교사를 누르면 그 교사의 현재 Class Location, Subject Name을 보여줍니다.
